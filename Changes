{{$NEXT}}

3.011     2012-04-23 13:11:16 Europe/Berlin

- Use largest supernet in zone for routing.
  Add largest supernet inside the zone, if available. This is needed,
  because we use the supernet in secondary optimization too. Moreover
  this reduces the number of routing entries. It isn't sufficient to
  solely use the supernet because network and supernet can have
  different next hops at end of path. For an aggregate, take all
  matching networks inside the zone. These are supernets by design.
- network:[<loopback-interface>] results in an interface now.
  The loopback network is never used. This fixes some ACLs.
- Relaxed check for types in intersection of group.
  Different types of objects are permitted in intersection now.
  But interface and auto-interface of same router are still rejected.
- Improved runtime of local optimization.
- Fixed secondary optimization: no longer use a network which has
  subnet in other zones. We must not change to network having subnet
  in other zone, because then we had to do check_supernet_rules for
  newly created secondary rules.
- Improved secondary optimization: Use largest supernet in zone.
- Don't apply secondary optimization to network with ID-hosts.
  This could lead to unwanted permission if software client uses spoofed
  IP address.
- No longer generate reverse rules for ASA,VPN with no_crypto_filter
  ASA,VPN with no_crypto_filter attribute set, use ACL at cleartext interface.
  Hence no reverse rules are needed.
- Allow simple protocols in global:permit.
- Internally renamed attributes and exported global variables,
  e.g. %poliocies -> %services, srv -> prt.
- Removed unused syntax for host:id:user (without @domain)
- Rules using protocol with attribute no_check_supernet_rules 
  aren't checked for transient supernet rules.
- Changed default values for config options:    
  check_service_unknown_owner => 'warn',
  check_service_multi_owner => 'warn',
  Permit and ignore old options check_policy_multi_owner,
  check_policy_unknown_owner to ease migration.

3.010     2012-03-28 15:03:18 Europe/Berlin

- Syntax for aggregates is extended to have an optional ip/mask
  any:X = { link = network:Y; ip = i.i.i.i/n; }
  If no ip is given, it defaults to 0/0.
  This generates aggregated ACLs with ip/mask, 
  effectively allowing all matching networks to pass.
- Automatic group  network:[any:X]  holds all networks matching any:X 
  inside the security zone, where any:X is defined.
- Attribute 'route_hint' of network is changed to 'has_subnets'.
  This allows the network to have subnets.
  Networks with 'has_subnets' can now be used in rules and are allowed 
  to have hosts.
- Improvements in checks for missing rules on path:
  - checks are applied now to all rules having supernets 
    as source or destination.
  - checks for automatically generated reverse rules at stateless devices
    are left out, if there is some stateful managed device on path.
  - if only a single network matches in a zone, it is sufficient 
    to have a rule with this single network. 
    It is no longer required to use an aggregate with the same size 
    as in the original rule.
- The modifier 'no_check_supernet_rules' can be added to protocol definitions.
  This disables check for missing rules for rules having such a protocol.
- Redundant rules from networks in subnet relation are detected now 
  and a warning is given.
- Attribute 'owner' is inherited from a network to its subnets.
- Networks in subnet relation are checked to have consistent NAT definition.

3.009     2012-03-23 14:05:22 Europe/Berlin

- Added support for two or more networks behind EZVPN devices.
- Certificate name is stored now in attribute 'id' 
  of remote tunnel interface and now longer at the remote network.
  Old syntax is still suported.

3.008     2012-03-06 16:53:55 Europe/Berlin

- Added support for anyconnect clients of ASA 8.4.
- Added flag 'disabled' to disable a service.
- Copy raw files to output directory for better integration 
  with Netspoc-Approve.
- Check for unused raw files. 
  Check can be configured using option '-check_raw=0|1|warn'.
- Added option '-check_unused_protocols=0|1|warn'.
- Check overlapping ranges for consistent owner.
- Disabled old syntax 'policy:'.
  Old syntax can still be enabled using command line switch 'old_syntax'.
- Added option '-owner' to command 'print-group'.

3.007     2012-02-20 15:54:32 Europe/Berlin
- Print host NAT commands first if used together with dynamic NAT.
  Print host NAT for ASA 8.4 with line number 1.
- Allow simple protocol descriptions like 'tcp <port>' directly in rules and 
  protocolgroups now.
- Attribute 'type' of virtual interfaces is optional now. If omitted, 
  no code to permit the redunancy protocol is generated.
- New attribute 'subnet' for hosts as alternate syntax to define a range.
  Syntax is "subnet = ip/{prefix|mask}".
- Generalized reading of mask for network and nat.
  Added ip = i.i.i.i/m.m.m.m as valid syntax.
- Disabled old syntax srv, service, servicegroup.
  Old syntax can still be enabled using command line switch 'old_syntax'.
- Prepare migration of keyword 'policy' to 'service'.
  We will change 'policy:' to 'service:'. This version allows both
  keywords interchangeable.
- Fixed bug in parser which allowed accepted names like type:xx:name 
  by mistake.
- Fixed another occurence of bug #108480 in perl versions 5.14.*.

3.006     2012-02-06 14:12:09 Europe/Berlin
- Support new radius_attribute "authorization-required"
  for tunnel-group general-attributes.
- We will migrate 'service' to 'protocol', 'srv' to 'prt', 'servicegroup'
  to 'protocolgroup'. This version allows both keywords interchangeably.

3.005     2012-01-31 16:53:10 Europe/Berlin
- Fixed dynamic NAT for ASA 8.4, use range and host in out-objects.
- Support new radius_attributes 
  authorization-server-group, username-from-certificate 
  for tunnel-group general-attributes. 
- Fixed check for overlap of interface with subnet.
- Added workaround for bug #108480 of perl 5.14 series.

3.004     2012-01-24 18:22:13 Europe/Berlin
- Added support for changed NAT commands of ASA version 8.4.
