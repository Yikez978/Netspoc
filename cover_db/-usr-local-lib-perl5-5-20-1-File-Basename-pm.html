<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.17
Devel::Cover is copyright 2001-2012, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: /usr/local/lib/perl5/5.20.1/File/Basename.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">/usr/local/lib/perl5/5.20.1/File/Basename.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">2.1%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>pod</th><th>time</th><th>code</th></tr>
<tr><td class="h">1 - 35</td><td colspan="6"></td><td class="s"><pre>=head1 NAME

File::Basename - Parse file paths into directory, filename and suffix.

=head1 SYNOPSIS

&nbsp;&nbsp;&nbsp;&nbsp;use File::Basename;

&nbsp;&nbsp;&nbsp;&nbsp;($name,$path,$suffix) = fileparse($fullname,@suffixlist);
&nbsp;&nbsp;&nbsp;&nbsp;$name = fileparse($fullname,@suffixlist);

&nbsp;&nbsp;&nbsp;&nbsp;$basename = basename($fullname,@suffixlist);
&nbsp;&nbsp;&nbsp;&nbsp;$dirname&nbsp;&nbsp;= dirname($fullname);


=head1 DESCRIPTION

These routines allow you to parse file paths into their directory, filename
and suffix.

B&lt;NOTE&gt;: C&lt;dirname()&gt; and C&lt;basename()&gt; emulate the behaviours, and
quirks, of the shell and C functions of the same name.&nbsp;&nbsp;See each
function&#39;s documentation for details.&nbsp;&nbsp;If your concern is just parsing
paths it is safer to use L&lt;File::Spec&gt;&#39;s C&lt;splitpath()&gt; and
C&lt;splitdir()&gt; methods.

It is guaranteed that

&nbsp;&nbsp;&nbsp;&nbsp;# Where $path_separator is / for Unix, \ for Windows, etc...
&nbsp;&nbsp;&nbsp;&nbsp;dirname($path) . $path_separator . basename($path);

is equivalent to the original path for all systems but VMS.


=cut</pre></td></tr>
<tr><td class="h">36</td><td colspan="7"></td></tr><tr><td class="h">37</td><td colspan="7"></td></tr><tr><td class="h">38</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">package File::Basename;</td></tr>
<tr><td class="h">39</td><td colspan="7"></td></tr><tr><td class="h">40</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># File::Basename is used during the Perl build, when the re extension may</td></tr>
<tr><td class="h">41</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># not be available, but we only actually need it if running under tainting.</td></tr>
<tr><td class="h">42</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">BEGIN {</td></tr>
<tr><td class="h">43</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;if (${^TAINT}) {</td></tr>
<tr><td class="h">44</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require re;</td></tr>
<tr><td class="h">45</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;re-&gt;import(&#39;taint&#39;);</td></tr>
<tr><td class="h">46</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">47</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">48</td><td colspan="7"></td></tr><tr><td class="h">49</td><td colspan="7"></td></tr><tr><td class="h">50</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">use strict;</td></tr>
<tr><td class="h">51</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">use 5.006;</td></tr>
<tr><td class="h">52</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">use warnings;</td></tr>
<tr><td class="h">53</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">our(@ISA, @EXPORT, $VERSION, $Fileparse_fstype, $Fileparse_igncase);</td></tr>
<tr><td class="h">54</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">require Exporter;</td></tr>
<tr><td class="h">55</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">@ISA = qw(Exporter);</td></tr>
<tr><td class="h">56</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">@EXPORT = qw(fileparse fileparse_set_fstype basename dirname);</td></tr>
<tr><td class="h">57</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">$VERSION = &quot;2.85&quot;;</td></tr>
<tr><td class="h">58</td><td colspan="7"></td></tr><tr><td class="h">59</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">fileparse_set_fstype($^O);</td></tr>
<tr><td class="h">60</td><td colspan="7"></td></tr><tr><td class="h">61</td><td colspan="7"></td></tr><tr><td class="h">62 - 101</td><td colspan="6"></td><td class="s"><pre>=over 4

=item C&lt;fileparse&gt;
X&lt;fileparse&gt;

&nbsp;&nbsp;&nbsp;&nbsp;my($filename, $dirs, $suffix) = fileparse($path);
&nbsp;&nbsp;&nbsp;&nbsp;my($filename, $dirs, $suffix) = fileparse($path, @suffixes);
&nbsp;&nbsp;&nbsp;&nbsp;my $filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= fileparse($path, @suffixes);

The C&lt;fileparse()&gt; routine divides a file path into its $dirs, $filename
and (optionally) the filename $suffix.

$dirs contains everything up to and including the last
directory separator in the $path including the volume (if applicable).
The remainder of the $path is the $filename.

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# On Unix returns (&quot;baz&quot;, &quot;/foo/bar/&quot;, &quot;&quot;)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fileparse(&quot;/foo/bar/baz&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# On Windows returns (&quot;baz&quot;, &#39;C:\foo\bar\&#39;, &quot;&quot;)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fileparse(&#39;C:\foo\bar\baz&#39;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# On Unix returns (&quot;&quot;, &quot;/foo/bar/baz/&quot;, &quot;&quot;)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fileparse(&quot;/foo/bar/baz/&quot;);

If @suffixes are given each element is a pattern (either a string or a
C&lt;qr//&gt;) matched against the end of the $filename.&nbsp;&nbsp;The matching
portion is removed and becomes the $suffix.

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# On Unix returns (&quot;baz&quot;, &quot;/foo/bar/&quot;, &quot;.txt&quot;)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fileparse(&quot;/foo/bar/baz.txt&quot;, qr/\.[^.]*/);

If type is non-Unix (see L&lt;/fileparse_set_fstype&gt;) then the pattern
matching for suffix removal is performed case-insensitively, since
those systems are not case-sensitive when opening existing files.

You are guaranteed that C&lt;$dirs . $filename . $suffix&gt; will
denote the same location as the original $path.

=cut</pre></td></tr>
<tr><td class="h">102</td><td colspan="7"></td></tr><tr><td class="h">103</td><td colspan="7"></td></tr><tr><td class="h">104</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub fileparse {</td></tr>
<tr><td class="h">105</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--subroutine.html#L105">0</a></div></td><td><div class="c3">1</div></td><td></td><td class="s">&nbsp;&nbsp;my($fullname,@suffices) = @_;</td></tr>
<tr><td class="h">106</td><td colspan="7"></td></tr><tr><td class="h">107</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L107">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;unless (defined $fullname) {</td></tr>
<tr><td class="h">108</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require Carp;</td></tr>
<tr><td class="h">109</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carp::croak(&quot;fileparse(): need a valid pathname&quot;);</td></tr>
<tr><td class="h">110</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">111</td><td colspan="7"></td></tr><tr><td class="h">112</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;my $orig_type = &#39;&#39;;</td></tr>
<tr><td class="h">113</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;my($type,$igncase) = ($Fileparse_fstype, $Fileparse_igncase);</td></tr>
<tr><td class="h">114</td><td colspan="7"></td></tr><tr><td class="h">115</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;my($taint) = substr($fullname,0,0);&nbsp;&nbsp;# Is $fullname tainted?</td></tr>
<tr><td class="h">116</td><td colspan="7"></td></tr><tr><td class="h">117</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L117">0</a></div></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--condition.html#L117">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;if ($type eq &quot;VMS&quot; and $fullname =~ m{/} ) {</td></tr>
<tr><td class="h">118</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# We&#39;re doing Unix emulation</td></tr>
<tr><td class="h">119</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$orig_type = $type;</td></tr>
<tr><td class="h">120</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;Unix&#39;;</td></tr>
<tr><td class="h">121</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">122</td><td colspan="7"></td></tr><tr><td class="h">123</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;my($dirpath, $basename);</td></tr>
<tr><td class="h">124</td><td colspan="7"></td></tr><tr><td class="h">125</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L125">0</a></div><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L125">0</a></div><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L125">0</a></div><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L125">0</a></div><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L125">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;if (grep { $type eq $_ } qw(MSDOS DOS MSWin32 Epoc)) {</td></tr>
<tr><td class="h">126</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;($dirpath,$basename) = ($fullname =~ /^((?:.*[:\\\/])?)(.*)/s);</td></tr>
<tr><td class="h">127</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L127">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dirpath .= &#39;.\\&#39; unless $dirpath =~ /[\\\/]\z/;</td></tr>
<tr><td class="h">128</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">129</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;elsif ($type eq &quot;OS2&quot;) {</td></tr>
<tr><td class="h">130</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;($dirpath,$basename) = ($fullname =~ m#^((?:.*[:\\/])?)(.*)#s);</td></tr>
<tr><td class="h">131</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L131">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dirpath = &#39;./&#39; unless $dirpath;&nbsp;&nbsp;&nbsp;&nbsp;# Can&#39;t be 0</td></tr>
<tr><td class="h">132</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L132">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dirpath .= &#39;/&#39; unless $dirpath =~ m#[\\/]\z#;</td></tr>
<tr><td class="h">133</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">134</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;elsif ($type eq &quot;MacOS&quot;) {</td></tr>
<tr><td class="h">135</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;($dirpath,$basename) = ($fullname =~ /^(.*:)?(.*)/s);</td></tr>
<tr><td class="h">136</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L136">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dirpath = &#39;:&#39; unless $dirpath;</td></tr>
<tr><td class="h">137</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">138</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;elsif ($type eq &quot;AmigaOS&quot;) {</td></tr>
<tr><td class="h">139</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;($dirpath,$basename) = ($fullname =~ /(.*[:\/])?(.*)/s);</td></tr>
<tr><td class="h">140</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L140">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dirpath = &#39;./&#39; unless $dirpath;</td></tr>
<tr><td class="h">141</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">142</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;elsif ($type eq &#39;VMS&#39; ) {</td></tr>
<tr><td class="h">143</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;($dirpath,$basename) = ($fullname =~ /^(.*[:&gt;\]])?(.*)/s);</td></tr>
<tr><td class="h">144</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--condition.html#L144">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dirpath ||= &#39;&#39;;&nbsp;&nbsp;# should always be defined</td></tr>
<tr><td class="h">145</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">146</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;else { # Default to Unix semantics.</td></tr>
<tr><td class="h">147</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;($dirpath,$basename) = ($fullname =~ m{^(.*/)?(.*)}s);</td></tr>
<tr><td class="h">148</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L148">0</a></div></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--condition.html#L148">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($orig_type eq &#39;VMS&#39; and $fullname =~ m{^(/[^/]+/000000(/|$))(.*)}) {</td></tr>
<tr><td class="h">149</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# dev:[000000] is top of VMS tree, similar to Unix &#39;/&#39;</td></tr>
<tr><td class="h">150</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# so strip it off and treat the rest as &quot;normal&quot;</td></tr>
<tr><td class="h">151</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $devspec&nbsp;&nbsp;= $1;</td></tr>
<tr><td class="h">152</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $remainder = $3;</td></tr>
<tr><td class="h">153</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($dirpath,$basename) = ($remainder =~ m{^(.*/)?(.*)}s);</td></tr>
<tr><td class="h">154</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--condition.html#L154">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dirpath ||= &#39;&#39;;&nbsp;&nbsp;# should always be defined</td></tr>
<tr><td class="h">155</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dirpath = $devspec.$dirpath;</td></tr>
<tr><td class="h">156</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">157</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L157">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dirpath = &#39;./&#39; unless $dirpath;</td></tr>
<tr><td class="h">158</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">159</td><td colspan="7"></td></tr><tr><td class="h">160</td><td colspan="7"></td></tr><tr><td class="h">161</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;my $tail&nbsp;&nbsp;&nbsp;= &#39;&#39;;</td></tr>
<tr><td class="h">162</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;my $suffix = &#39;&#39;;</td></tr>
<tr><td class="h">163</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L163">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;if (@suffices) {</td></tr>
<tr><td class="h">164</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach $suffix (@suffices) {</td></tr>
<tr><td class="h">165</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L165">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pat = ($igncase ? &#39;(?i)&#39; : &#39;&#39;) . &quot;($suffix)\$&quot;;</td></tr>
<tr><td class="h">166</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L166">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($basename =~ s/$pat//s) {</td></tr>
<tr><td class="h">167</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$taint .= substr($suffix,0,0);</td></tr>
<tr><td class="h">168</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tail = $1 . $tail;</td></tr>
<tr><td class="h">169</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">170</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">171</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">172</td><td colspan="7"></td></tr><tr><td class="h">173</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# Ensure taint is propagated from the path to its pieces.</td></tr>
<tr><td class="h">174</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;$tail .= $taint;</td></tr>
<tr><td class="h">175</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L175">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;wantarray ? ($basename .= $taint, $dirpath .= $taint, $tail)</td></tr>
<tr><td class="h">176</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: ($basename .= $taint);</td></tr>
<tr><td class="h">177</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">178</td><td colspan="7"></td></tr><tr><td class="h">179</td><td colspan="7"></td></tr><tr><td class="h">180</td><td colspan="7"></td></tr><tr><td class="h">181 - 211</td><td colspan="6"></td><td class="s"><pre>=item C&lt;basename&gt;
X&lt;basename&gt; X&lt;filename&gt;

&nbsp;&nbsp;&nbsp;&nbsp;my $filename = basename($path);
&nbsp;&nbsp;&nbsp;&nbsp;my $filename = basename($path, @suffixes);

This function is provided for compatibility with the Unix shell command
C&lt;basename(1)&gt;.&nbsp;&nbsp;It does B&lt;NOT&gt; always return the file name portion of a
path as you might expect.&nbsp;&nbsp;To be safe, if you want the file name portion of
a path use C&lt;fileparse()&gt;.

C&lt;basename()&gt; returns the last level of a filepath even if the last
level is clearly directory.&nbsp;&nbsp;In effect, it is acting like C&lt;pop()&gt; for
paths.&nbsp;&nbsp;This differs from C&lt;fileparse()&gt;&#39;s behaviour.

&nbsp;&nbsp;&nbsp;&nbsp;# Both return &quot;bar&quot;
&nbsp;&nbsp;&nbsp;&nbsp;basename(&quot;/foo/bar&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;basename(&quot;/foo/bar/&quot;);

@suffixes work as in C&lt;fileparse()&gt; except all regex metacharacters are
quoted.

&nbsp;&nbsp;&nbsp;&nbsp;# These two function calls are equivalent.
&nbsp;&nbsp;&nbsp;&nbsp;my $filename = basename(&quot;/foo/bar/baz.txt&quot;,&nbsp;&nbsp;&quot;.txt&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;my $filename = fileparse(&quot;/foo/bar/baz.txt&quot;, qr/\Q.txt\E/);

Also note that in order to be compatible with the shell command,
C&lt;basename()&gt; does not strip off a suffix if it is identical to the
remaining characters in the filename.

=cut</pre></td></tr>
<tr><td class="h">212</td><td colspan="7"></td></tr><tr><td class="h">213</td><td colspan="7"></td></tr><tr><td class="h">214</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub basename {</td></tr>
<tr><td class="h">215</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--subroutine.html#L215">0</a></div></td><td><div class="c3">1</div></td><td></td><td class="s">&nbsp;&nbsp;my($path) = shift;</td></tr>
<tr><td class="h">216</td><td colspan="7"></td></tr><tr><td class="h">217</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# From BSD basename(1)</td></tr>
<tr><td class="h">218</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# The basename utility deletes any prefix ending with the last slash &#39;/&#39;</td></tr>
<tr><td class="h">219</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# character present in string (after first stripping trailing slashes)</td></tr>
<tr><td class="h">220</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;_strip_trailing_sep($path);</td></tr>
<tr><td class="h">221</td><td colspan="7"></td></tr><tr><td class="h">222</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;my($basename, $dirname, $suffix) = fileparse( $path, map(&quot;\Q$_\E&quot;,@_) );</td></tr>
<tr><td class="h">223</td><td colspan="7"></td></tr><tr><td class="h">224</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# From BSD basename(1)</td></tr>
<tr><td class="h">225</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# The suffix is not stripped if it is identical to the remaining </td></tr>
<tr><td class="h">226</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# characters in string.</td></tr>
<tr><td class="h">227</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L227">0</a></div></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--condition.html#L227">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;if( length $suffix and !length $basename ) {</td></tr>
<tr><td class="h">228</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$basename = $suffix;</td></tr>
<tr><td class="h">229</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">230</td><td colspan="7"></td></tr><tr><td class="h">231</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;# Ensure that basename &#39;/&#39; == &#39;/&#39;</td></tr>
<tr><td class="h">232</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L232">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;if( !length $basename ) {</td></tr>
<tr><td class="h">233</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$basename = $dirname;</td></tr>
<tr><td class="h">234</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;}</td></tr>
<tr><td class="h">235</td><td colspan="7"></td></tr><tr><td class="h">236</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;return $basename;</td></tr>
<tr><td class="h">237</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">238</td><td colspan="7"></td></tr><tr><td class="h">239</td><td colspan="7"></td></tr><tr><td class="h">240</td><td colspan="7"></td></tr><tr><td class="h">241 - 280</td><td colspan="6"></td><td class="s"><pre>=item C&lt;dirname&gt;
X&lt;dirname&gt;

This function is provided for compatibility with the Unix shell
command C&lt;dirname(1)&gt; and has inherited some of its quirks.&nbsp;&nbsp;In spite of
its name it does B&lt;NOT&gt; always return the directory name as you might
expect.&nbsp;&nbsp;To be safe, if you want the directory name of a path use
C&lt;fileparse()&gt;.

Only on VMS (where there is no ambiguity between the file and directory
portions of a path) and AmigaOS (possibly due to an implementation quirk in
this module) does C&lt;dirname()&gt; work like C&lt;fileparse($path)&gt;, returning just the
$dirs.

&nbsp;&nbsp;&nbsp;&nbsp;# On VMS and AmigaOS
&nbsp;&nbsp;&nbsp;&nbsp;my $dirs = dirname($path);

When using Unix or MSDOS syntax this emulates the C&lt;dirname(1)&gt; shell function
which is subtly different from how C&lt;fileparse()&gt; works.&nbsp;&nbsp;It returns all but
the last level of a file path even if the last level is clearly a directory.
In effect, it is not returning the directory portion but simply the path one
level up acting like C&lt;chop()&gt; for file paths.

Also unlike C&lt;fileparse()&gt;, C&lt;dirname()&gt; does not include a trailing slash on
its returned path.

&nbsp;&nbsp;&nbsp;&nbsp;# returns /foo/bar.&nbsp;&nbsp;fileparse() would return /foo/bar/
&nbsp;&nbsp;&nbsp;&nbsp;dirname(&quot;/foo/bar/baz&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;# also returns /foo/bar despite the fact that baz is clearly a 
&nbsp;&nbsp;&nbsp;&nbsp;# directory.&nbsp;&nbsp;fileparse() would return /foo/bar/baz/
&nbsp;&nbsp;&nbsp;&nbsp;dirname(&quot;/foo/bar/baz/&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;# returns &#39;.&#39;.&nbsp;&nbsp;fileparse() would return &#39;foo/&#39;
&nbsp;&nbsp;&nbsp;&nbsp;dirname(&quot;foo/&quot;);

Under VMS, if there is no directory information in the $path, then the
current default device and directory is used.

=cut</pre></td></tr>
<tr><td class="h">281</td><td colspan="7"></td></tr><tr><td class="h">282</td><td colspan="7"></td></tr><tr><td class="h">283</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub dirname {</td></tr>
<tr><td class="h">284</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--subroutine.html#L284">0</a></div></td><td><div class="c3">1</div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $path = shift;</td></tr>
<tr><td class="h">285</td><td colspan="7"></td></tr><tr><td class="h">286</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($type) = $Fileparse_fstype;</td></tr>
<tr><td class="h">287</td><td colspan="7"></td></tr><tr><td class="h">288</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L288">0</a></div></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--condition.html#L288">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( $type eq &#39;VMS&#39; and $path =~ m{/} ) {</td></tr>
<tr><td class="h">289</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Parse as Unix</td></tr>
<tr><td class="h">290</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local($File::Basename::Fileparse_fstype) = &#39;&#39;;</td></tr>
<tr><td class="h">291</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return dirname($path);</td></tr>
<tr><td class="h">292</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">293</td><td colspan="7"></td></tr><tr><td class="h">294</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my($basename, $dirname) = fileparse($path);</td></tr>
<tr><td class="h">295</td><td colspan="7"></td></tr><tr><td class="h">296</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L296">0</a></div><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L296">0</a></div><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L296">0</a></div><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L296">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($type eq &#39;VMS&#39;) { </td></tr>
<tr><td class="h">297</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--condition.html#L297">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dirname ||= $ENV{DEFAULT};</td></tr>
<tr><td class="h">298</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">299</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif ($type eq &#39;MacOS&#39;) {</td></tr>
<tr><td class="h">300</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L300">0</a></div></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--condition.html#L300">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( !length($basename) &amp;&amp; $dirname !~ /^[^:]+:\z/) {</td></tr>
<tr><td class="h">301</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_strip_trailing_sep($dirname);</td></tr>
<tr><td class="h">302</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($basename,$dirname) = fileparse $dirname;</td></tr>
<tr><td class="h">303</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">304</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L304">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dirname .= &quot;:&quot; unless $dirname =~ /:\z/;</td></tr>
<tr><td class="h">305</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">306</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif (grep { $type eq $_ } qw(MSDOS DOS MSWin32 OS2)) { </td></tr>
<tr><td class="h">307</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_strip_trailing_sep($dirname);</td></tr>
<tr><td class="h">308</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L308">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless( length($basename) ) {</td></tr>
<tr><td class="h">309</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($basename,$dirname) = fileparse $dirname;</td></tr>
<tr><td class="h">310</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_strip_trailing_sep($dirname);</td></tr>
<tr><td class="h">311</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">312</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">313</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif ($type eq &#39;AmigaOS&#39;) {</td></tr>
<tr><td class="h">314</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L314">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $dirname =~ /:\z/) { return $dirname }</td></tr>
<tr><td class="h">315</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chop $dirname;</td></tr>
<tr><td class="h">316</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L316">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dirname =~ s{[^:/]+\z}{} unless length($basename);</td></tr>
<tr><td class="h">317</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">318</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">319</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_strip_trailing_sep($dirname);</td></tr>
<tr><td class="h">320</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L320">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless( length($basename) ) {</td></tr>
<tr><td class="h">321</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($basename,$dirname) = fileparse $dirname;</td></tr>
<tr><td class="h">322</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_strip_trailing_sep($dirname);</td></tr>
<tr><td class="h">323</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">324</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">325</td><td colspan="7"></td></tr><tr><td class="h">326</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$dirname;</td></tr>
<tr><td class="h">327</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">328</td><td colspan="7"></td></tr><tr><td class="h">329</td><td colspan="7"></td></tr><tr><td class="h">330</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># Strip the trailing path separator.</td></tr>
<tr><td class="h">331</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _strip_trailing_sep&nbsp;&nbsp;{</td></tr>
<tr><td class="h">332</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--subroutine.html#L332">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $type = $Fileparse_fstype;</td></tr>
<tr><td class="h">333</td><td colspan="7"></td></tr><tr><td class="h">334</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L334">0</a></div><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L334">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($type eq &#39;MacOS&#39;) {</td></tr>
<tr><td class="h">335</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[0] =~ s/([^:]):\z/$1/s;</td></tr>
<tr><td class="h">336</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">337</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;elsif (grep { $type eq $_ } qw(MSDOS DOS MSWin32 OS2)) { </td></tr>
<tr><td class="h">338</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[0] =~ s/([^:])[\\\/]*\z/$1/;</td></tr>
<tr><td class="h">339</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">340</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">341</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[0] =~ s{(.)/*\z}{$1}s;</td></tr>
<tr><td class="h">342</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">343</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">344</td><td colspan="7"></td></tr><tr><td class="h">345</td><td colspan="7"></td></tr><tr><td class="h">346 - 368</td><td colspan="6"></td><td class="s"><pre>=item C&lt;fileparse_set_fstype&gt;
X&lt;filesystem&gt;

&nbsp;&nbsp;my $type = fileparse_set_fstype();
&nbsp;&nbsp;my $previous_type = fileparse_set_fstype($type);

Normally File::Basename will assume a file path type native to your current
operating system (ie. /foo/bar style on Unix, \foo\bar on Windows, etc...).
With this function you can override that assumption.

Valid $types are &quot;MacOS&quot;, &quot;VMS&quot;, &quot;AmigaOS&quot;, &quot;OS2&quot;, &quot;RISCOS&quot;,
&quot;MSWin32&quot;, &quot;DOS&quot; (also &quot;MSDOS&quot; for backwards bug compatibility),
&quot;Epoc&quot; and &quot;Unix&quot; (all case-insensitive).&nbsp;&nbsp;If an unrecognized $type is
given &quot;Unix&quot; will be assumed.

If you&#39;ve selected VMS syntax, and the file specification you pass to
one of these routines contains a &quot;/&quot;, they assume you are using Unix
emulation and apply the Unix syntax rules instead, for that function
call only.

=back

=cut</pre></td></tr>
<tr><td class="h">369</td><td colspan="7"></td></tr><tr><td class="h">370</td><td colspan="7"></td></tr><tr><td class="h">371</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">BEGIN {</td></tr>
<tr><td class="h">372</td><td colspan="7"></td></tr><tr><td class="h">373</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">my @Ignore_Case = qw(MacOS VMS AmigaOS OS2 RISCOS MSWin32 MSDOS DOS Epoc);</td></tr>
<tr><td class="h">374</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">my @Types = (@Ignore_Case, qw(Unix));</td></tr>
<tr><td class="h">375</td><td colspan="7"></td></tr><tr><td class="h">376</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub fileparse_set_fstype {</td></tr>
<tr><td class="h">377</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--subroutine.html#L377">0</a></div></td><td><div class="c3">1</div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $old = $Fileparse_fstype;</td></tr>
<tr><td class="h">378</td><td colspan="7"></td></tr><tr><td class="h">379</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L379">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (@_) {</td></tr>
<tr><td class="h">380</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $new_type = shift;</td></tr>
<tr><td class="h">381</td><td colspan="7"></td></tr><tr><td class="h">382</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Fileparse_fstype = &#39;Unix&#39;;&nbsp;&nbsp;# default</td></tr>
<tr><td class="h">383</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $type (@Types) {</td></tr>
<tr><td class="h">384</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L384">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Fileparse_fstype = $type if $new_type =~ /^$type/i;</td></tr>
<tr><td class="h">385</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">386</td><td colspan="7"></td></tr><tr><td class="h">387</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Fileparse_igncase = </td></tr>
<tr><td class="h">388</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-local-lib-perl5-5-20-1-File-Basename-pm--branch.html#L388">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(grep $Fileparse_fstype eq $_, @Ignore_Case) ? 1 : 0;</td></tr>
<tr><td class="h">389</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">390</td><td colspan="7"></td></tr><tr><td class="h">391</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $old;</td></tr>
<tr><td class="h">392</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">393</td><td colspan="7"></td></tr><tr><td class="h">394</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">395</td><td colspan="7"></td></tr><tr><td class="h">396</td><td colspan="7"></td></tr><tr><td class="h">397</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
<tr><td class="h">398</td><td colspan="7"></td></tr><tr><td class="h">399</td><td colspan="7"></td></tr><tr><td class="h">400 - 402</td><td colspan="6"></td><td class="s"><pre>=head1 SEE ALSO

L&lt;dirname(1)&gt;, L&lt;basename(1)&gt;, L&lt;File::Spec&gt;</pre></td></tr>
</table>
</body>
</html>
