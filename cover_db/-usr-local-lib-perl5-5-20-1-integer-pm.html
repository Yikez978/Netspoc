<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.17
Devel::Cover is copyright 2001-2012, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: /usr/local/lib/perl5/5.20.1/integer.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">/usr/local/lib/perl5/5.20.1/integer.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c3">100.0%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>pod</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">package integer;</td></tr>
<tr><td class="h">2</td><td colspan="7"></td></tr><tr><td class="h">3</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">our $VERSION = &#39;1.01&#39;;</td></tr>
<tr><td class="h">4</td><td colspan="7"></td></tr><tr><td class="h">5 - 81</td><td colspan="6"></td><td class="s"><pre>=head1 NAME

integer - Perl pragma to use integer arithmetic instead of floating point

=head1 SYNOPSIS

&nbsp;&nbsp;&nbsp;&nbsp;use integer;
&nbsp;&nbsp;&nbsp;&nbsp;$x = 10/3;
&nbsp;&nbsp;&nbsp;&nbsp;# $x is now 3, not 3.33333333333333333

=head1 DESCRIPTION

This tells the compiler to use integer operations from here to the end
of the enclosing BLOCK.&nbsp;&nbsp;On many machines, this doesn&#39;t matter a great
deal for most computations, but on those without floating point
hardware, it can make a big difference in performance.

Note that this only affects how most of the arithmetic and relational
B&lt;operators&gt; handle their operands and results, and B&lt;not&gt; how all
numbers everywhere are treated.&nbsp;&nbsp;Specifically, C&lt;use integer;&gt; has the
effect that before computing the results of the arithmetic operators
(+, -, *, /, %, +=, -=, *=, /=, %=, and unary minus), the comparison
operators (&lt;, &lt;=, &gt;, &gt;=, ==, !=, &lt;=&gt;), and the bitwise operators (|, &amp;,
^, &lt;&lt;, &gt;&gt;, |=, &amp;=, ^=, &lt;&lt;=, &gt;&gt;=), the operands have their fractional
portions truncated (or floored), and the result will have its
fractional portion truncated as well.&nbsp;&nbsp;In addition, the range of
operands and results is restricted to that of familiar two&#39;s complement
integers, i.e., -(2**31) .. (2**31-1) on 32-bit architectures, and
-(2**63) .. (2**63-1) on 64-bit architectures.&nbsp;&nbsp;For example, this code

&nbsp;&nbsp;&nbsp;&nbsp;use integer;
&nbsp;&nbsp;&nbsp;&nbsp;$x = 5.8;
&nbsp;&nbsp;&nbsp;&nbsp;$y = 2.5;
&nbsp;&nbsp;&nbsp;&nbsp;$z = 2.7;
&nbsp;&nbsp;&nbsp;&nbsp;$a = 2**31 - 1;&nbsp;&nbsp;# Largest positive integer on 32-bit machines
&nbsp;&nbsp;&nbsp;&nbsp;$, = &quot;, &quot;;
&nbsp;&nbsp;&nbsp;&nbsp;print $x, -$x, $x+$y, $x-$y, $x/$y, $x*$y, $y==$z, $a, $a+1;

will print:&nbsp;&nbsp;5.8, -5, 7, 3, 2, 10, 1, 2147483647, -2147483648

Note that $x is still printed as having its true non-integer value of
5.8 since it wasn&#39;t operated on.&nbsp;&nbsp;And note too the wrap-around from the
largest positive integer to the largest negative one.&nbsp;&nbsp;&nbsp;Also, arguments
passed to functions and the values returned by them are B&lt;not&gt; affected
by C&lt;use integer;&gt;.&nbsp;&nbsp;E.g.,

&nbsp;&nbsp;&nbsp;&nbsp;srand(1.5);
&nbsp;&nbsp;&nbsp;&nbsp;$, = &quot;, &quot;;
&nbsp;&nbsp;&nbsp;&nbsp;print sin(.5), cos(.5), atan2(1,2), sqrt(2), rand(10);

will give the same result with or without C&lt;use integer;&gt;&nbsp;&nbsp;The power
operator C&lt;**&gt; is also not affected, so that 2 ** .5 is always the
square root of 2.&nbsp;&nbsp;Now, it so happens that the pre- and post- increment
and decrement operators, ++ and --, are not affected by C&lt;use integer;&gt;
either.&nbsp;&nbsp;Some may rightly consider this to be a bug -- but at least it&#39;s
a long-standing one.

Finally, C&lt;use integer;&gt; also has an additional affect on the bitwise
operators.&nbsp;&nbsp;Normally, the operands and results are treated as
B&lt;unsigned&gt; integers, but with C&lt;use integer;&gt; the operands and results
are B&lt;signed&gt;.&nbsp;&nbsp;This means, among other things, that ~0 is -1, and -2 &amp;
-5 is -6.

Internally, native integer arithmetic (as provided by your C compiler)
is used.&nbsp;&nbsp;This means that Perl&#39;s own semantics for arithmetic
operations may not be preserved.&nbsp;&nbsp;One common source of trouble is the
modulus of negative numbers, which Perl does one way, but your hardware
may do another.

&nbsp;&nbsp;&nbsp;&nbsp;% perl -le &#39;print (4 % -3)&#39;
&nbsp;&nbsp;&nbsp;&nbsp;-2
&nbsp;&nbsp;&nbsp;&nbsp;% perl -Minteger -le &#39;print (4 % -3)&#39;
&nbsp;&nbsp;&nbsp;&nbsp;1

See L&lt;perlmodlib/&quot;Pragmatic Modules&quot;&gt;, L&lt;perlop/&quot;Integer Arithmetic&quot;&gt;

=cut</pre></td></tr>
<tr><td class="h">82</td><td colspan="7"></td></tr><tr><td class="h">83</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">$integer::hint_bits = 0x1;</td></tr>
<tr><td class="h">84</td><td colspan="7"></td></tr><tr><td class="h">85</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub import {</td></tr>
<tr><td class="h">86</td><td><div class="c3">232</div></td><td></td><td></td><td><div class="c3"><a href="-usr-local-lib-perl5-5-20-1-integer-pm--subroutine.html#L86">232</a></div></td><td></td><td><div>4013</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$^H |= $integer::hint_bits;</td></tr>
<tr><td class="h">87</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">88</td><td colspan="7"></td></tr><tr><td class="h">89</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub unimport {</td></tr>
<tr><td class="h">90</td><td><div class="c3">94</div></td><td></td><td></td><td><div class="c3"><a href="-usr-local-lib-perl5-5-20-1-integer-pm--subroutine.html#L90">94</a></div></td><td></td><td><div>381136</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$^H &amp;= ~$integer::hint_bits;</td></tr>
<tr><td class="h">91</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">92</td><td colspan="7"></td></tr><tr><td class="h">93</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
